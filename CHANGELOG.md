# 更新日志

本文档记录 StaroDrive 的主要更新内容。

---
### 2025-01-05 新增
- **文件预览功能**：支持在线预览多种文件格式
  - PDF 文件预览（使用 PDF.js）
  - Markdown 文件预览（支持语法高亮）
  - Excel 文件预览（xlsx, xls, csv）
  - Word 文件预览（docx）
  - 代码文件预览（支持 50+ 种编程语言语法高亮）
  - 图片、视频、音频原生预览
  - 支持缩放、全屏、翻页等操作

- **管理工具**：管理员专属工具面板
  - 孤立缩略图清理：扫描并删除未被引用的缩略图，释放存储空间
  - 显示扫描统计：已扫描文件数、使用中缩略图、总缩略图数、孤立缩略图数
  - 预览清理结果和可释放空间大小

### 优化
- 文件预览组件支持键盘快捷键（Esc 关闭、方向键翻页、Ctrl+/-缩放）
- 预览库按需加载，减少首屏加载时间

---

## [1.0.0] - 2024-12-29

### 核心功能
- 文件管理：上传、下载、重命名、移动、删除
- 文件夹支持：创建、重命名、下载（打包 ZIP）
- 高级搜索：支持文件名、类型、扩展名、大小多维度搜索
- 缩略图预览：图片和视频自动生成缩略图
- 大文件上传：支持最大 5GB 文件（分片上传）

### 用户界面
- 现代化 UI：类 Notion 风格的卡片布局
- 主题切换：支持亮色/暗色模式
- 响应式设计：完美支持 PC 和移动端
- 统计面板：存储概览、文件统计、类型分布

### 批量操作
- 多选模式：批量选择文件和文件夹
- 批量下载：多文件打包 ZIP 下载
- 批量删除：一键删除多个文件
- 批量移动：批量移动到指定目录

### 文件分享
- 分享链接：生成文件分享链接
- 时效控制：支持 1小时/1天/7天/30天/永久/自定义
- 密码保护：可选设置访问密码
- 下载限制：可选限制最大下载次数
- wget 命令：自动生成 wget 下载命令

### 权限系统
- 多用户支持：支持多管理员账户
- 目录授权：为不同用户分配不同目录权限
- 只读用户：支持只能查看和下载的只读账户
- 访客模式：可配置访客可访问的目录

---

## 版本说明

- **主版本号**：重大功能更新或不兼容的 API 变更
- **次版本号**：新功能添加（向后兼容）
- **修订号**：Bug 修复和小改进

---

## 贡献

欢迎提交 Issue 和 Pull Request！

- 报告 Bug：[GitHub Issues](https://github.com/xStaro/Cloudflare-R2-oss/issues)
- 功能建议：[GitHub Discussions](https://github.com/xStaro/Cloudflare-R2-oss/discussions)
